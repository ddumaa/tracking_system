<th:block th:fragment="storeBlock(store)">
    <div th:id="'store-block-' + ${store.id}" class="mt-3 border p-3 rounded bg-light-subtle">
        <h6 th:text="${store.name}" class="mb-2"></h6>
        <form th:action="@{/stores/{id}/telegram-settings(id=${store.id})}" method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" th:id="'tg-enable-' + ${store.id}" name="enabled"
                       th:checked="${store.telegramSettings != null and store.telegramSettings.enabled}">
                <label class="form-check-label" th:for="'tg-enable-' + ${store.id}">Включить уведомления</label>
            </div>
            <div class="mb-2">
                <label class="form-label" th:for="'tg-start-' + ${store.id}">Первое напоминание (через дней)</label>
                <input type="number" class="form-control form-control-sm" th:id="'tg-start-' + ${store.id}" name="reminderStartAfterDays"
                       th:value="${store.telegramSettings?.reminderStartAfterDays ?: 3}" min="1" max="14">
            </div>
            <div class="mb-2">
                <label class="form-label" th:for="'tg-repeat-' + ${store.id}">Интервал повторных напоминаний (в днях)</label>
                <input type="number" class="form-control form-control-sm" th:id="'tg-repeat-' + ${store.id}" name="reminderRepeatIntervalDays"
                       th:value="${store.telegramSettings?.reminderRepeatIntervalDays ?: 2}" min="1" max="14">
            </div>
            <div class="mb-2">
                <label class="form-label" th:for="'tg-sign-' + ${store.id}">Подпись к уведомлению (необязательно)</label>
                <input type="text" class="form-control form-control-sm" th:id="'tg-sign-' + ${store.id}" name="customSignature"
                       th:value="${store.telegramSettings?.customSignature}" maxlength="200">
            </div>
            <button type="submit" class="btn btn-sm btn-primary">Сохранить</button>
        </form>
    </div>
</th:block>
