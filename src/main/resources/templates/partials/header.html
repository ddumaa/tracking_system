<div th:fragment="header">
    <header class="bg-white shadow-sm">
        <div class="container">

            <!-- Бургер-кнопка (только для мобильных) -->
            <button class="burger-menu" id="burgerMenu">
                <i class="bi bi-list"></i>
            </button>

            <!-- Логотип -->
           <div class="logo">
                <a href="/" class="d-inline-flex link-body-emphasis text-decoration-none">
                    <img th:src="@{/images/logo.svg}" alt="Logo">
                </a>
            </div>

            <!-- Навигация (скрывается на мобильных) -->
            <div class="nav-container">
                <ul class="nav">
                    <li><a href="/app" class="nav-link px-2" data-path="/app">Трекинг</a></li>
                    <li><a href="/app/departures" class="nav-link px-2" data-path="/app/departures">Отправления</a></li>
                    <li><a href="/app/profile" class="nav-link px-2" data-path="/app/profile">Профиль</a></li>
                    <li><a href="/app/analytics" class="nav-link px-2" data-path="/app/analytics">Аналитика</a></li>
                    <li><a href="/app/tariffs" class="nav-link px-2" data-path="/app/tariffs">Тарифы</a></li>
                </ul>
            </div>

            <!-- Кнопки авторизации -->
            <div class="auth-buttons">
                <!-- Вход -->
                <a th:if="${authenticatedUser == null}" th:href="@{/login}" class="btn btn-outline-primary btn-text">
                    <i class="bi bi-box-arrow-in-right"></i> Войти
                </a>
                <a th:if="${authenticatedUser == null}" th:href="@{/login}" class="icon-btn">
                    <i class="bi bi-box-arrow-in-right"></i>
                </a>

                <!-- Регистрация -->
                <a th:if="${authenticatedUser == null}" th:href="@{/auth/registration}" class="btn btn-primary btn-text">
                    <i class="bi bi-person-plus"></i> Регистрация
                </a>
                <a th:if="${authenticatedUser == null}" th:href="@{/auth/registration}" class="icon-btn">
                    <i class="bi bi-person-plus"></i>
                </a>

                <!-- Кнопка выхода -->
                <form th:if="${authenticatedUser != null}" th:action="@{/logout}" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="btn btn-danger btn-text">
                        <i class="bi bi-box-arrow-right"></i> Выйти
                    </button>
                    <button type="submit" class="icon-btn logout">
                        <i class="bi bi-box-arrow-right"></i>
                    </button>
                </form>
            </div>
        </div>

        <nav id="mobileNav" class="mobile-nav">
            <ul>
                <li><a href="/app" data-path="/app">Трекинг</a></li>
                <li><a href="/app/departures" data-path="/app/departures">Отправления</a></li>
                <li><a href="/app/profile" data-path="/app/profile">Профиль</a></li>
                <li><a href="/app/analytics" data-path="/app/analytics">Аналитика</a></li>
                <li><a href="/app/tariffs" data-path="/app/tariffs">Тарифы</a></li>
            </ul>
        </nav>

    </header>
</div>
